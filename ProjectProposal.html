<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=cGvuclDC_Z1vE_cnVEU6Ae_NZQ7StBcqH_vXVqoPMX0);.lst-kix_fnrcj1xn02ww-3>li:before{content:"\0025cf   "}.lst-kix_fnrcj1xn02ww-2>li:before{content:"\0025a0   "}.lst-kix_fnrcj1xn02ww-4>li:before{content:"\0025cb   "}.lst-kix_fnrcj1xn02ww-0>li:before{content:"\0025cf   "}.lst-kix_fnrcj1xn02ww-8>li:before{content:"\0025a0   "}ul.lst-kix_5a5jdxhpassb-1{list-style-type:none}.lst-kix_fnrcj1xn02ww-1>li:before{content:"\0025cb   "}ul.lst-kix_5a5jdxhpassb-2{list-style-type:none}ul.lst-kix_5a5jdxhpassb-0{list-style-type:none}.lst-kix_fnrcj1xn02ww-7>li:before{content:"\0025cb   "}.lst-kix_fnrcj1xn02ww-6>li:before{content:"\0025cf   "}.lst-kix_fnrcj1xn02ww-5>li:before{content:"\0025a0   "}ul.lst-kix_5a5jdxhpassb-5{list-style-type:none}ul.lst-kix_5a5jdxhpassb-6{list-style-type:none}ul.lst-kix_5a5jdxhpassb-3{list-style-type:none}ul.lst-kix_5a5jdxhpassb-4{list-style-type:none}ul.lst-kix_5a5jdxhpassb-7{list-style-type:none}ul.lst-kix_5a5jdxhpassb-8{list-style-type:none}ul.lst-kix_195dd9lcc4yq-8{list-style-type:none}ul.lst-kix_195dd9lcc4yq-7{list-style-type:none}ul.lst-kix_195dd9lcc4yq-6{list-style-type:none}ul.lst-kix_195dd9lcc4yq-5{list-style-type:none}ul.lst-kix_195dd9lcc4yq-4{list-style-type:none}.lst-kix_wybuassm9htu-0>li:before{content:"\0025cf   "}ul.lst-kix_195dd9lcc4yq-3{list-style-type:none}ul.lst-kix_195dd9lcc4yq-2{list-style-type:none}ul.lst-kix_195dd9lcc4yq-1{list-style-type:none}ul.lst-kix_195dd9lcc4yq-0{list-style-type:none}.lst-kix_wybuassm9htu-2>li:before{content:"\0025a0   "}.lst-kix_wybuassm9htu-1>li:before{content:"\0025cb   "}ul.lst-kix_458ljis7umns-4{list-style-type:none}ul.lst-kix_458ljis7umns-5{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-0{list-style-type:none}ul.lst-kix_458ljis7umns-6{list-style-type:none}ul.lst-kix_458ljis7umns-7{list-style-type:none}.lst-kix_wybuassm9htu-4>li:before{content:"\0025cb   "}ul.lst-kix_458ljis7umns-8{list-style-type:none}.lst-kix_wybuassm9htu-3>li:before{content:"\0025cf   "}.lst-kix_wybuassm9htu-7>li:before{content:"\0025cb   "}ul.lst-kix_fnrcj1xn02ww-6{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-5{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-8{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-7{list-style-type:none}.lst-kix_wybuassm9htu-6>li:before{content:"\0025cf   "}ul.lst-kix_fnrcj1xn02ww-2{list-style-type:none}ul.lst-kix_458ljis7umns-0{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-1{list-style-type:none}ul.lst-kix_458ljis7umns-1{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-4{list-style-type:none}ul.lst-kix_458ljis7umns-2{list-style-type:none}ul.lst-kix_fnrcj1xn02ww-3{list-style-type:none}ul.lst-kix_458ljis7umns-3{list-style-type:none}.lst-kix_wybuassm9htu-5>li:before{content:"\0025a0   "}ul.lst-kix_wybuassm9htu-2{list-style-type:none}ul.lst-kix_wybuassm9htu-3{list-style-type:none}ul.lst-kix_wybuassm9htu-0{list-style-type:none}ul.lst-kix_wybuassm9htu-1{list-style-type:none}ul.lst-kix_wybuassm9htu-6{list-style-type:none}ul.lst-kix_wybuassm9htu-7{list-style-type:none}ul.lst-kix_wybuassm9htu-4{list-style-type:none}ul.lst-kix_wybuassm9htu-5{list-style-type:none}ul.lst-kix_wybuassm9htu-8{list-style-type:none}.lst-kix_wybuassm9htu-8>li:before{content:"\0025a0   "}.lst-kix_195dd9lcc4yq-3>li:before{content:"\0025cf   "}ul.lst-kix_m6giitho7hy9-7{list-style-type:none}ul.lst-kix_m6giitho7hy9-8{list-style-type:none}.lst-kix_195dd9lcc4yq-2>li:before{content:"\0025a0   "}.lst-kix_195dd9lcc4yq-4>li:before{content:"\0025cb   "}ul.lst-kix_m6giitho7hy9-3{list-style-type:none}ul.lst-kix_m6giitho7hy9-4{list-style-type:none}ul.lst-kix_m6giitho7hy9-5{list-style-type:none}ul.lst-kix_m6giitho7hy9-6{list-style-type:none}.lst-kix_195dd9lcc4yq-1>li:before{content:"\0025cb   "}.lst-kix_195dd9lcc4yq-5>li:before{content:"\0025a0   "}.lst-kix_195dd9lcc4yq-0>li:before{content:"\0025cf   "}.lst-kix_195dd9lcc4yq-6>li:before{content:"\0025cf   "}.lst-kix_195dd9lcc4yq-8>li:before{content:"\0025a0   "}.lst-kix_5a5jdxhpassb-2>li:before{content:"\0025a0   "}.lst-kix_195dd9lcc4yq-7>li:before{content:"\0025cb   "}.lst-kix_5a5jdxhpassb-1>li:before{content:"\0025cb   "}.lst-kix_5a5jdxhpassb-0>li:before{content:"\0025cf   "}ul.lst-kix_m6giitho7hy9-0{list-style-type:none}ul.lst-kix_m6giitho7hy9-1{list-style-type:none}ul.lst-kix_m6giitho7hy9-2{list-style-type:none}ul.lst-kix_hsgoyjakfumn-7{list-style-type:none}ul.lst-kix_hsgoyjakfumn-8{list-style-type:none}ul.lst-kix_hsgoyjakfumn-3{list-style-type:none}ul.lst-kix_hsgoyjakfumn-4{list-style-type:none}ul.lst-kix_hsgoyjakfumn-5{list-style-type:none}ul.lst-kix_hsgoyjakfumn-6{list-style-type:none}ul.lst-kix_dun3xj2wf25m-5{list-style-type:none}.lst-kix_6z08iwdqafbm-8>li:before{content:"\0025a0   "}ul.lst-kix_6zd7ga8o3xet-7{list-style-type:none}ul.lst-kix_dun3xj2wf25m-4{list-style-type:none}ul.lst-kix_6zd7ga8o3xet-8{list-style-type:none}ul.lst-kix_dun3xj2wf25m-7{list-style-type:none}.lst-kix_6z08iwdqafbm-7>li:before{content:"\0025cb   "}ul.lst-kix_6zd7ga8o3xet-5{list-style-type:none}.lst-kix_m6giitho7hy9-0>li:before{content:"\0025cf   "}.lst-kix_m6giitho7hy9-2>li:before{content:"\0025a0   "}ul.lst-kix_dun3xj2wf25m-6{list-style-type:none}ul.lst-kix_6zd7ga8o3xet-6{list-style-type:none}ul.lst-kix_dun3xj2wf25m-1{list-style-type:none}.lst-kix_6z08iwdqafbm-6>li:before{content:"\0025cf   "}ul.lst-kix_dun3xj2wf25m-0{list-style-type:none}ul.lst-kix_dun3xj2wf25m-3{list-style-type:none}.lst-kix_m6giitho7hy9-3>li:before{content:"\0025cf   "}ul.lst-kix_dun3xj2wf25m-2{list-style-type:none}.lst-kix_6z08iwdqafbm-4>li:before{content:"\0025cb   "}.lst-kix_6z08iwdqafbm-3>li:before{content:"\0025cf   "}.lst-kix_6z08iwdqafbm-5>li:before{content:"\0025a0   "}.lst-kix_458ljis7umns-6>li:before{content:"\0025cf   "}.lst-kix_458ljis7umns-8>li:before{content:"\0025a0   "}.lst-kix_hsgoyjakfumn-2>li:before{content:"\0025a0   "}.lst-kix_m6giitho7hy9-4>li:before{content:"\0025cb   "}.lst-kix_m6giitho7hy9-6>li:before{content:"\0025cf   "}ul.lst-kix_dun3xj2wf25m-8{list-style-type:none}.lst-kix_458ljis7umns-7>li:before{content:"\0025cb   "}.lst-kix_hsgoyjakfumn-3>li:before{content:"\0025cf   "}.lst-kix_m6giitho7hy9-5>li:before{content:"\0025a0   "}.lst-kix_6zd7ga8o3xet-6>li:before{content:"\0025cf   "}.lst-kix_m6giitho7hy9-8>li:before{content:"\0025a0   "}.lst-kix_6zd7ga8o3xet-7>li:before{content:"\0025cb   "}.lst-kix_hsgoyjakfumn-1>li:before{content:"\0025cb   "}.lst-kix_m6giitho7hy9-7>li:before{content:"\0025cb   "}ul.lst-kix_hsgoyjakfumn-0{list-style-type:none}ul.lst-kix_hsgoyjakfumn-1{list-style-type:none}.lst-kix_hsgoyjakfumn-0>li:before{content:"\0025cf   "}ul.lst-kix_hsgoyjakfumn-2{list-style-type:none}.lst-kix_6zd7ga8o3xet-8>li:before{content:"\0025a0   "}.lst-kix_dun3xj2wf25m-0>li:before{content:"\0025cf   "}.lst-kix_dun3xj2wf25m-1>li:before{content:"\0025cb   "}.lst-kix_5a5jdxhpassb-8>li:before{content:"\0025a0   "}.lst-kix_dun3xj2wf25m-3>li:before{content:"\0025cf   "}.lst-kix_dun3xj2wf25m-2>li:before{content:"\0025a0   "}.lst-kix_dun3xj2wf25m-4>li:before{content:"\0025cb   "}.lst-kix_458ljis7umns-0>li:before{content:"\0025cf   "}.lst-kix_6zd7ga8o3xet-4>li:before{content:"\0025cb   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_6zd7ga8o3xet-5>li:before{content:"\0025a0   "}.lst-kix_dun3xj2wf25m-7>li:before{content:"\0025cb   "}ul.lst-kix_6z08iwdqafbm-0{list-style-type:none}.lst-kix_6z08iwdqafbm-0>li:before{content:"\0025cf   "}ul.lst-kix_6z08iwdqafbm-1{list-style-type:none}.lst-kix_dun3xj2wf25m-6>li:before{content:"\0025cf   "}.lst-kix_dun3xj2wf25m-8>li:before{content:"\0025a0   "}.lst-kix_6z08iwdqafbm-1>li:before{content:"\0025cb   "}.lst-kix_5a5jdxhpassb-3>li:before{content:"\0025cf   "}.lst-kix_458ljis7umns-2>li:before{content:"\0025a0   "}.lst-kix_458ljis7umns-4>li:before{content:"\0025cb   "}.lst-kix_hsgoyjakfumn-4>li:before{content:"\0025cb   "}.lst-kix_hsgoyjakfumn-6>li:before{content:"\0025cf   "}.lst-kix_dun3xj2wf25m-5>li:before{content:"\0025a0   "}.lst-kix_6z08iwdqafbm-2>li:before{content:"\0025a0   "}.lst-kix_6zd7ga8o3xet-3>li:before{content:"\0025cf   "}.lst-kix_5a5jdxhpassb-4>li:before{content:"\0025cb   "}.lst-kix_458ljis7umns-1>li:before{content:"\0025cb   "}.lst-kix_458ljis7umns-5>li:before{content:"\0025a0   "}.lst-kix_hsgoyjakfumn-5>li:before{content:"\0025a0   "}ul.lst-kix_6z08iwdqafbm-8{list-style-type:none}.lst-kix_6zd7ga8o3xet-2>li:before{content:"\0025a0   "}ul.lst-kix_6zd7ga8o3xet-0{list-style-type:none}ul.lst-kix_6z08iwdqafbm-6{list-style-type:none}.lst-kix_5a5jdxhpassb-5>li:before{content:"\0025a0   "}.lst-kix_5a5jdxhpassb-7>li:before{content:"\0025cb   "}.lst-kix_hsgoyjakfumn-8>li:before{content:"\0025a0   "}ul.lst-kix_6z08iwdqafbm-7{list-style-type:none}ul.lst-kix_6z08iwdqafbm-4{list-style-type:none}.lst-kix_6zd7ga8o3xet-0>li:before{content:"\0025cf   "}ul.lst-kix_6zd7ga8o3xet-3{list-style-type:none}ul.lst-kix_6z08iwdqafbm-5{list-style-type:none}ul.lst-kix_6zd7ga8o3xet-4{list-style-type:none}ul.lst-kix_6z08iwdqafbm-2{list-style-type:none}.lst-kix_6zd7ga8o3xet-1>li:before{content:"\0025cb   "}ul.lst-kix_6zd7ga8o3xet-1{list-style-type:none}.lst-kix_5a5jdxhpassb-6>li:before{content:"\0025cf   "}.lst-kix_458ljis7umns-3>li:before{content:"\0025cf   "}.lst-kix_hsgoyjakfumn-7>li:before{content:"\0025cb   "}.lst-kix_m6giitho7hy9-1>li:before{content:"\0025cb   "}ul.lst-kix_6z08iwdqafbm-3{list-style-type:none}ul.lst-kix_6zd7ga8o3xet-2{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#cccccc;border-left-style:solid;border-bottom-width:1pt;width:297pt;border-top-color:#000000;border-bottom-style:solid}.c12{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:297pt;border-top-color:#000000;border-bottom-style:solid}.c2{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:171pt;border-top-color:#000000;border-bottom-style:solid}.c19{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c21{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Consolas";font-style:normal}.c0{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c22{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c1{margin-left:36pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0;padding-left:0pt;text-align:left}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c18{border-spacing:0;border-collapse:collapse;margin-right:auto}.c24{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c6{color:#ff0000;font-weight:700;font-family:"Consolas"}.c26{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c15{color:inherit;text-decoration:inherit}.c9{font-weight:400;font-family:"Consolas"}.c20{font-weight:700;font-family:"Consolas"}.c8{margin-left:36pt;padding-left:0pt}.c10{padding:0;margin:0}.c16{height:0pt}.c17{height:11pt}.c13{background-color:#ffff00}.c25{font-weight:700}.c23{background-color:#cccccc}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c26 doc-content"><h1 class="c19" id="h.ypt16wicg1eq"><span class="c22">Barnes-Hut Tree Walking Strategies in CUDA</span></h1><h2 class="c0" id="h.d6omlorzle8t"><span class="c14">Summary</span></h2><ul class="c10 lst-kix_wybuassm9htu-0 start"><li class="c4 c8 li-bullet-0"><span class="c5">We are going to implement two different tree-walking strategies for Barnes-Hut using CUDA.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">We will optimize these strategies for the GHC GPUs and compare their results and speedups versus a serial CPU implementation of the Barnes-Hut algorithm on the GHC machines.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">In particular, we will compare the performance of a dual-tree to a single-tree on a GPU.</span></li></ul><h2 class="c0" id="h.ify2dalo1rj7"><span class="c14">Background</span></h2><p class="c4"><span>The Barnes-Hut algorithm is an O(</span><span>nlogn</span><span class="c5">) algorithm to simulate galaxy evolution. The algorithm is performed over many time steps. Each time step is done serially, but we will parallelize within time steps. The main data structure for this algorithm is the quadtree. The quadtree divides stars up based on their location. Each leaf node corresponds to exactly one star. The interior nodes of the tree hold the aggregate mass and center of mass for its children nodes.</span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">On each time step, the original Barnes-Hut algorithm builds the quadtree and then fills in aggregate mass and center of mass for each interior node. As a modification, our algorithm will also build an interaction list before iterating over particles. The interaction list will be used to calculate the forces on particles efficiently on a GPU. </span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">The pseudocode for the algorithm we will use follows. This is the pseudocode given in lecture with the modification of the lines in red.</span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c7">for each time step in simulation:</span></p><p class="c4"><span class="c7">&nbsp; build tree structure</span></p><p class="c4"><span class="c7">&nbsp; compute (aggregate mass, center-of-mass) for interior nodes</span></p><p class="c4"><span class="c20">&nbsp; </span><span class="c6">traverse tree to assemble interactions list</span></p><p class="c4"><span class="c7">&nbsp; for each particle:</span></p><p class="c4"><span class="c9">&nbsp; &nbsp; </span><span class="c6">use interactions list</span><span class="c7">&nbsp;to accumulate gravitational forces</span></p><p class="c4"><span class="c9">&nbsp; &nbsp; update particle position based on gravitational forces</span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">The portion of the algorithm that is of primary interest is the method of traversing the quadtree to compose interaction lists for each star in a way that performs well on a GPU.</span></p><h2 class="c0" id="h.jyhhhrlnomdb"><span class="c14">The Challenge</span></h2><p class="c4"><span class="c5">It is difficult to efficiently traverse the tree in a GPU-friendly way. &nbsp;The part about Barnes-Hut that is GPU-friendly is when calculating the forces on a given star when the inputs to that calculation are already decided. &nbsp;Shared memory, cache locality, and SIMD registers can be leveraged to accelerate this process.</span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">There will be a high communication to computation ratio especially if you include the time it takes to compose the interactions list. &nbsp;The portion computing the forces on the stars will be relatively quick once an interactions list is composed.</span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">However, optimizing how to get to that point is the tricky part due to thread divergence when traversing a tree. &nbsp;Recursion and thread divergence are not ideal for a GPU because GPUs rely on doing the same or similar calculations many times. &nbsp;What&rsquo;s interesting is that for these reasons, the dual-tree walk has a better asymptotic complexity than the single-tree approach, however, based on analysis done by Liu et al, the authors found that a single-tree implementation still performed better on a GPU. &nbsp;We want to compare our findings to those in the &ldquo;Efficient GPU Tree Walk&rdquo; paper and evaluate any differences we may find.</span></p><h2 class="c0" id="h.gdho3dwcvc53"><span class="c14">Resources</span></h2><p class="c4"><span>Jianqiao Liu, Michael Robson, Thomas Quinn, and Milind Kulkarni. 2019. Efficient GPU tree walks for effective distributed n-body simulations. In Proceedings of the ACM International Conference on Supercomputing (ICS &#39;19). Association for Computing Machinery, New York, NY, USA, 24&ndash;34. </span><span class="c24"><a class="c15" href="https://www.google.com/url?q=https://doi.org/10.1145/3330345.3330348&amp;sa=D&amp;source=editors&amp;ust=1743044086639763&amp;usg=AOvVaw1sKb-awc3uBMd4pmTVdhtu">https://doi.org/10.1145/3330345.3330348</a></span></p><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">M. Burtscher and K. Pingali. &quot;An Efficient CUDA Implementation of the Tree-based Barnes Hut n-Body Algorithm&quot;. Chapter 6 in GPU Computing Gems Emerald Edition, pp. 75-92. January 2011.</span></p><h2 class="c0" id="h.4rue8pwefqqk"><span class="c14">Goals and Deliverables</span></h2><p class="c4"><span class="c5">We plan to achieve the following goals:<br></span></p><ul class="c10 lst-kix_6zd7ga8o3xet-0 start"><li class="c4 c8 li-bullet-0"><span class="c5">Implementation of Barnes-Hut using a dual-tree walking strategy in CUDA.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">Implementation of Barnes-Hut using a single-tree walking strategy in CUDA.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">Cache misses, synchronization stalls, runtime breakdowns, and speedup data for both implementations.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">Program to write random particle inputs and validate the outputs.</span></li></ul><p class="c4 c17"><span class="c5"></span></p><p class="c4"><span class="c5">We hope to achieve the following goals:</span></p><p class="c4 c17"><span class="c5"></span></p><ul class="c10 lst-kix_6z08iwdqafbm-0 start"><li class="c4 c8 li-bullet-0"><span class="c5">Implementation of a dual-tree walk using OpenMP to run on a CPU.</span></li><li class="c4 c8 li-bullet-0"><span class="c5">Program to visualize particle movement/galaxy evolution over time.</span></li></ul><h2 class="c0" id="h.128fjt1wcsfn"><span class="c14">Platform Choice</span></h2><p class="c4"><span class="c5">We will use the GPUs in the GHC machines. We also have other (personal) devices with older GPUs, and we may test our code on these if we have time. We are choosing to use GPUs because we think it is an interesting question to push GPU performance for Barnes-Hut. &nbsp;One the one hand, the force calculation portion of Barnes-Hut is excellent for a GPU because it&rsquo;s a lot of the same calculations run on a large set of data at once. &nbsp;However, the preparation of that data is not easily done on a GPU because it involves tree traversal and thread divergence. &nbsp;We want to see if we can reduce this bottleneck by finding a better way to compose the interactions lists on a GPU, or in parallel on a CPU.</span></p><h2 class="c0" id="h.ai6f2nfsycau"><span class="c14">Schedule</span></h2><p class="c4"><span class="c5">The highlighted dates are official deadlines. We will treat the other dates as deadlines for our project.</span></p><p class="c4 c17"><span class="c5"></span></p><table class="c18"><tr class="c16"><td class="c2 c23" colspan="1" rowspan="1"><p class="c3"><span class="c21">Date</span></p></td><td class="c11" colspan="1" rowspan="1"><p class="c3"><span class="c21">Goal</span></p></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5 c13">Wednesday, March 25, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_5a5jdxhpassb-0 start"><li class="c1 li-bullet-0"><span class="c21">Project Proposal Due</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5">Tuesday, April 1, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_195dd9lcc4yq-0 start"><li class="c1 li-bullet-0"><span class="c5">Serial implementation on CPU</span></li><li class="c1 li-bullet-0"><span class="c5">Program for generating inputs and validating implementations</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5">Tuesday, April 8, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_fnrcj1xn02ww-0 start"><li class="c1 li-bullet-0"><span class="c5">Implementation of single-tree on GPU</span></li><li class="c1 li-bullet-0"><span class="c5">Program for visualizing galaxy evolution</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5 c13">Tuesday, April 15, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_hsgoyjakfumn-0 start"><li class="c1 li-bullet-0"><span>Generate, visualize, and analyze data</span></li><li class="c1 li-bullet-0"><span class="c25">Project Milestone Report due</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5">Tuesday, April 22, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_458ljis7umns-0 start"><li class="c1 li-bullet-0"><span class="c5">Implementation of dual-tree on GPU</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5 c13">Monday April 28th, 11:59pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_m6giitho7hy9-0 start"><li class="c1 li-bullet-0"><span class="c5">Generate, visualize, and analyze data</span></li><li class="c1 li-bullet-0"><span class="c21">Final Report Due</span></li></ul></td></tr><tr class="c16"><td class="c2" colspan="1" rowspan="1"><p class="c3"><span class="c5 c13">April 29th, 5:30-8:30pm</span></p></td><td class="c12" colspan="1" rowspan="1"><ul class="c10 lst-kix_dun3xj2wf25m-0 start"><li class="c1 li-bullet-0"><span class="c21">Poster Session</span></li></ul></td></tr></table><p class="c4 c17"><span class="c5"></span></p></body></html>